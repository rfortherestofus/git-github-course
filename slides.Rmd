---
title: "Using Git and GitHub with R"
output:
  xaringan::moon_reader:
    css: ["style.css", "default"]
    lib_dir: libs
    df_print: paged
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 16:9
---

```{r child = "setup.Rmd"}
```

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-github.jpg")

# Using Git and GitHub with R

???

I show things as much as possible within R and not at the command line

---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-confused.jpg")

## What is Git? What is GitHub

---

class: middle

--

.pull-left[
![](images/git-logo.svg)
]

--

.pull-right[
![](images/github-logo.svg)

]


---

class: middle

![](images/git-github-not-the-same.svg)

???

They're not the same thing

You can use one without the other

TODO: Image of Git vs GitHub

---

### Git

--

Version control system **on your local computer**

--

Allows you to take **snapshots** of your code as it progresses

--

Allows you to view the **history of your code over time**

---

class: middle, center

![](images/git-visual.svg)


---

### GitHub


![](images/github-website.png)

???

Just pan on GH website

---

### GitHub Alternatives

![](images/bitbucket.png)

---

### GitHub Alternatives

![](images/gitlab-bitbucket.png)

???

Just pan on GitLab and BitBucket websites


---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-workstation.jpg")

## Why Should You Learn to Use Git and GitHub?

---

class: center, middle

### Version Control

--

![](images/git-visual.svg)

---

class: center, middle

### Backup

--


![](images/git-and-rstudio.svg)
---

class: center, middle

### Backup

![](images/git-and-rstudio-in-sync.svg)

---

class: center, middle

### Collaboration

--

![](images/git-collaboration1.svg)

---

class: center, middle

### Collaboration

![](images/git-collaboration2.svg)

---

class: center, middle

### Collaboration

![](images/git-collaboration3.svg)

---

class: center, middle

### Collaboration

![](images/git-collaboration4.svg)

---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-setup.jpg")

# Setup

---

class: center, middle

![](images/setup-90pct.svg)


---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-update.jpg")

## Update Everything

???

Update R

Update RStudio

Update all packages (may cause issues, but worth it)

---

class: center, middle

[![](images/download-r.png)](https://cran.microsoft.com)

---

class: center, middle

[![](images/download-rstudio.png)](https://www.rstudio.com/products/rstudio/download/)

---

class: center, middle

![](images/update-packages.png)

---

## Install Git

--

[![](images/download-git.png)](http://git-scm.com/downloads)


---

## Configure Git

Let's tell Git who we are!

--


```{r eval = FALSE}
install.packages("usethis") # Only if usethis is not installed
library(usethis)
use_git_config(user.name = "Jane Doe", user.email = "jane@example.org")
```


???

Explain that you can do lots of things on command line, but I'm showing how not to do so


---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-git.jpg")

# Using Git

---

## Create a Local Git Repository

--

```{r}
use_git()
```

---

class: center, middle

![](images/git-activated.svg)


---

## Commits

???

Commits are a snapshot of your code at any point

Staging files

Commit messages

---

## Commits Have Two Parts

--

Part 1: Files you "stage" (i.e. include) 

--

Part 2: A commit message that tells you what has changed since the last commit

---

### Staging Files

--

Which files do you want to include in this commit? 

--

Include all files for now

--

![](images/stage-files.svg)

---

### Commit Messages

---

class: center, middle

![](images/final-docx.svg)

---

class: center, middle

![](images/no-version-info.svg)

---

class: dk-section-title, inverse, middle, center

background-image:url("images/bg-whisper.jpg")

## Commit Messages Tell Us What Changes Were Made

---

class: center, middle

![](images/commit-message.svg)

---

## Commit History

![](images/rstudio-review-changes.svg)

???

Explain that we make commit message to know what's different at this point

Show just in RStudio

Explain diffs

---


class: dk-section-title, inverse, middle, center

background-image:url("images/bg-github.jpg")

# GitHub

---


## Repositories

--

aka "repo"

--

One repository for each project

---

## View Commit History on GitHub

--

![](images/github-commit-history.png)

---

class: center, middle

### View Commit History on RStudio or GitHub

![](images/commit-history-rstudio-github.svg)

---

class: center, middle

### View Commit History on RStudio or GitHub

![](images/commit-history-rstudio-github-same-thing.svg)


???

Same as viewing locally but you can also see code as it was at any point

---


## Connect RStudio and GitHub

---

class: center, middle

![](images/git-and-rstudio-in-sync.svg)

---

## Create a GitHub Account

---

![](images/github-signup.svg)

???

Show me on the website signing up

---

## Create a Personal Access Token (PAT)

```{r}
create_github_token()
```


---

## Connect RStudio and GitHub

```{r}
install.packages("gitcreds") # Only if gitcreds is not installed
library(gitcreds)
gitcreds_set()
```

---

## Two Options

<br>

--

![](images/github-to-rstudio.svg)

--
<br><br>

![](images/rstudio-to-github.svg)

---

## Push an RStudio Project to a GitHub Repository

![](images/rstudio-to-github.svg)

---

### Step 1: Initialize a **local** git repository in your RStudio project

```{r}
use_git()
```

---

### Step 2: Connect your local RStudio project to a **remote GitHub repository**

```{r}
use_github()
```

---

## Pull a GitHub Repository to an RStudio Project

<br><br>
![](images/github-to-rstudio.svg)

---

### Step 1: Create a New Repository on GitHub

---

class: middle, center

[![](images/github-new-repo.png)](https://github.com/new)

---

### Step 2: Create a New RStudio Project by Cloning GitHub Repository

.center[
  ![](images/clone-repo.png)
]


---

## Keep RStudio and GitHub in Sync

--

1. Work in RStudio

--

1. Any time you make significant changes, stage and commit

--

1. Push your work to GitHub

???

- Talk about staging, commits again

- Finish off by saying you don't need to pull if you're the only one working on the project, but this becomes necessary when you collaborate

---


class: dk-section-title, inverse, middle, center

background-image:url("images/bg-pair-programming.jpg")

# Collaborating with GitHub

---

## Many People Can Work on One Repository

---

class: center, middle

![](images/git-collaboration4.svg)

---

class: center, middle

[![](images/multiple-collaborators.svg)](https://github.com/rfortherestofus/api-food-asset-map/commits/main)

---

## Merge Conflicts

This is not unique to Git/GitHub

--

![](images/dropbox-conflicted-copy.webp)

---

### Merge Conflicts

When you and a collaborator edit the same code

???

How do we avoid them? See next steps.

---

## Always Pull Before Pushing

---

## Push Early and Often

---

## Dealing with Merge Conflicts

---

# Project Management with GitHub

---

## GitHub Issues

---

### Assign Issues to Individuals

---

### Reference Commits in Issues

---

## Work on Your Code Without Messing Up Things that are Working

---

## Branches

---

## Pull Requests



